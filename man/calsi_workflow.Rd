% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calsi.R
\name{calsi_workflow}
\alias{calsi_workflow}
\title{Complete cALSI Workflow for Continuous Data}
\usage{
calsi_workflow(
  data,
  B_pa = 2000,
  B_boot = 2000,
  phi_threshold = 0.85,
  angle_threshold = 10,
  ipsatize = TRUE,
  q = 0.95,
  seed = 20260206,
  K_override = NULL,
  verbose = TRUE
)
}
\arguments{
\item{data}{Data frame or matrix of continuous variables (persons x domains)}

\item{B_pa}{Number of permutations for parallel analysis (default: 2000)}

\item{B_boot}{Number of bootstrap resamples for stability (default: 2000)}

\item{phi_threshold}{Tucker's congruence threshold for stability (default: 0.85)}

\item{angle_threshold}{Principal angle threshold in degrees (default: 10)}

\item{ipsatize}{Logical, whether to ipsatize data (default: TRUE; always recommended)}

\item{q}{Quantile for parallel analysis (default: 0.95)}

\item{seed}{Random seed for reproducibility (default: 20260206)}

\item{K_override}{Optional integer to override parallel analysis K* with specified value}

\item{verbose}{Logical, print progress messages (default: TRUE)}
}
\value{
List containing all analysis objects:
  \item{pa}{Parallel analysis results (class \code{svd_pa})}
  \item{boot}{Bootstrap stability results (class \code{svd_bootstrap})}
  \item{ref}{Reference SVD fit (class \code{svd_fit})}
  \item{calsi}{cALSI results (class \code{calsi})}
  \item{K}{Final number of dimensions used}
  \item{domain_contrib}{Domain contributions to retained subspace (percentages)}
}
\description{
Integrates parallel analysis, bootstrap stability assessment, and cALSI
computation into a single streamlined workflow.
}
\details{
This function executes the complete cALSI pipeline:

1. **Parallel Analysis**: Determines initial dimensionality K* using permutation-based
   parallel analysis (paran package if available, fallback otherwise)

2. **Bootstrap Stability**: Assesses stability of K dimensions via B bootstrap resamples,
   computing principal angles (subspace-level stability) and Tucker's congruence
   (dimension-level stability)

3. **cALSI Computation**: Calculates individual profile differentiation indices as
   variance-weighted Euclidean norms across the K validated dimensions

4. **Diagnostics**: Displays stability plots and domain contribution summaries
}
\examples{
\dontrun{
# Generate simulated data
set.seed(123)
data <- matrix(rnorm(500*10, mean=50, sd=10), ncol=10)
colnames(data) <- paste0("Domain", 1:10)

# Run complete workflow
result <- calsi_workflow(data, B_pa=1000, B_boot=1000, seed=123)

# Extract cALSI values
alpha_i <- result$calsi$alpha
summary(alpha_i)
}
}
